<!-- <div *ngIf="loading" class="loader w-100 h-100 d-flex justify-content-center position-absolute">
    <div class="spinner-border mx-auto" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
</div> -->

<div *ngIf=" items &&  items.length === 0" >
    <h1 class="text-center">Your cart is empty</h1>
    <button class="btn btn-primary  " style="margin-left: 42%; margin-top: 2.5rem;" routerLink="/products">continue shopping <i class="bi bi-arrow-right " ></i></button>

</div>
<div class="p-4 d-flex flex-column flex-md-row gap-3 justify-content-center" *ngIf="items && items.length">
    <div style="max-width: 45rem">
        <h1>Shopping Cart</h1>
        <div>
            <div *ngFor="let items of items"
                class="d-flex flex-row gap-1 p-1 mt-1 justify-content-between border shadow-lg">
                <div class="d-flex flex-row gap-2">
                  

                    <img src="{{ items.productId.thumbnail }}" alt="{{ items.productId.title }}"
                        style="width: 5rem; height: 5.5rem;  " />
                    <div>
                        <p style="margin: 0; padding: 0;   font-size: 18px; color: blue ;">{{ items.productId.title }}</p>
                        <p style="height:2rem; overflow-y: hidden; font-size: 12px; ">
                            {{ items.productId.description }}
                        </p>
                        <div class="quantityBtn">
                            <i class="bi bi-dash-lg px-2 bg-danger mx-1 rounded"
                                (click)="cartUpdate(items.productId, items.quantity - 1)"></i>
                            <input type="text" style="width: 30px; height: 23px;" value="{{ items.quantity }}"
                                disabled />
                            <i class="bi bi-plus-lg px-2 bg-primary mx-1 rounded"
                                (click)="cartUpdate(items.productId, items.quantity + 1)"></i>
                        </div>
                        <span *ngIf="items.productId.stock === 0 " style="color: red">out of stock
                        </span>
                        
                    </div>
                </div>
                <span class="Cartsummery">
                    <span>
                        <i class="bi bi-currency-rupee"></i>
                        <span>{{ items.productId.price }} * {{ items.quantity }}</span>
                    </span>
                    <i class="bi bi-trash text-danger" title="Delete" (click)="cartUpdate(items.productId, 0)"></i>
                </span>
            </div>
        </div>
    </div>

    <div style=" max-width: 25rem; min-width: 16rem; background-color: white; height: max-content; padding: 3px; border: 1px solid rgb(206, 208, 209); text-align: center; margin-top: 50px; margin-left: 5rem;">
        <h2>Cart Summery</h2>
        <div class="summery">
            <span>Subtotal</span>
            
            <span>{{ cartDetails.cart.totalPrice }}
                <i class="bi bi-currency-rupee"></i>
            </span>
        </div>
        <div class="summery">
            <span>Total Items</span>
            <span>{{ cartDetails.cart.totalItems }}</span>
        </div>
        <div class="summery">
            <span>Shipping charges </span>
            <span>0</span>
        </div>
        <hr />
        <div class="summery">
            <span>Total</span>
            
            <span>{{ cartDetails.cart.totalPrice }}
                <i class="bi bi-currency-rupee"></i>
            </span>
        </div>
        <button class="btn btn-primary w-75 m-auto mt-3 mb-2" routerLink="/checkout">
            Procced to checkout
        </button>
    </div>
</div>